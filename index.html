<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>NaamGuru V8.1 ‚Äî Theme Fix</title>
<style>
    /* CSS is same as V8 */
    body {
        margin: 0;
        padding: 0;
        font-family: "Poppins", sans-serif;
        transition: background 0.6s ease, color 0.6s ease;
    }

    .app {
        width: 100%;
        max-width: 450px;
        margin: 40px auto;
        background: rgba(255,255,255,0.15);
        backdrop-filter: blur(12px);
        border-radius: 14px;
        padding: 18px 20px;
        box-shadow: 0 0 25px rgba(0,0,0,0.3);
        transition: 0.6s ease;
    }

    h1 {
        text-align: center;
        margin: 5px 0 15px 0;
        font-weight: 700;
        letter-spacing: 1px;
        font-size: 26px;
    }

    #chat {
        height: 360px;
        overflow-y: auto;
        padding: 12px;
        border-radius: 12px;
        background: rgba(255,255,255,0.20);
        backdrop-filter: blur(8px);
        transition: 0.6s;
    }

    .msg {
        margin: 8px 0;
        padding: 10px 14px;
        max-width: 75%;
        border-radius: 12px;
        animation: fadeIn 0.3s ease;
        line-height: 1.4;
        font-size: 15px;
    }

    .me {
        background: var(--me-bubble);
        color: var(--me-text);
        margin-left: auto;
    }

    .bot {
        background: var(--bot-bubble);
        color: var(--bot-text);
        margin-right: auto;
    }

    @keyframes fadeIn {
        from {opacity: 0; transform: translateY(6px);}
        to {opacity: 1; transform: translateY(0);}
    }

    .inpBox {
        margin-top: 12px;
        display: flex;
        gap: 8px;
    }

    #input {
        flex: 1;
        padding: 10px;
        border-radius: 8px;
        border: none;
        outline: none;
        font-size: 15px;
    }

    button {
        padding: 10px 14px;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-size: 14px;
        font-weight: 700;
        transition: 0.3s;
    }

    button:hover {
        transform: scale(1.04);
    }

    #themeSelect {
        width: 100%;
        margin-bottom: 12px;
        padding: 10px;
        border-radius: 8px;
        font-size: 15px;
        border: none;
        outline: none;
        cursor: pointer;
    }

    :root {
        --me-bubble: #1976d2;
        --bot-bubble: #e3e3e3;
        --me-text: #fff;
        --bot-text: #000;
    }
</style>
</head>
<body>

<div class="app">
    <h1>NaamGuru V8.1 ‚ú® Theme Fix</h1>

    <select id="themeSelect">
        <option>üå§Ô∏è Sky Blue</option>
        <option>‚≠ê Gold</option>
        <option>üåà Pink/Blue</option>
        <option>üü£ Neon</option>
        <option>üü© Matrix</option>
        <option>üî• Cyber</option>
    </select>

    <div id="chat"></div>

    <div class="inpBox">
        <input id="input" placeholder="Enter a name...">
        <button onclick="sendMessage()">Send</button>
    </div>

    <button onclick="clearChat()" style="margin-top:10px;width:100%;">Clear Chat</button>

    <div id="ad-placement-bottom" style="margin-top: 15px; text-align: center;">
        <p style="font-size: 12px; color: #888;">[THIS IS YOUR AD SLOT]</p>
    </div>
    </div>

<script>
/* -------------------------------------
   NAME DATABASE (APKA LOCAL DATA)
--------------------------------------*/
const names = {
    "priya": "One who is deeply loved ‚ù§Ô∏è‚ú®",
    "rahul": "Efficient and conqueror of miseries üí™üî•",
    "tanya": "Noble and graceful ‚ú®üå∫",
    // **APNA POORA NAME DATABASE YAHAN COPY PASTE KAREIN**
    "shafee": "Owner of NaamGuru üëë",
};

/* Fallback lines (Jab naam na mile) */
const randomMeanings = [
    "This name reflects positivity ‚ú®üôÇ",
    "A unique personality with bright energy üí´‚ö°",
    "Strong vibes and confident nature üí™üî•",
    "Creative and calm aura üåøü§ç",
    "A charming and graceful presence ‚ú®üå∏"
];

/* THEME ENGINE */
const themes = {
    "üå§Ô∏è Sky Blue": {
        bg: "#daf1ff",
        meBubble: "#007bff",
        botBubble: "#e8f7ff",
        meText: "#fff",
        botText: "#000"
    },
    "‚≠ê Gold": {
        bg: "#fff7da",
        meBubble: "#c79b00",
        botBubble: "#fff2c2",
        meText: "#fff",
        botText: "#000"
    },
    "üåà Pink/Blue": {
        bg: "linear-gradient(120deg,#ffb6ea,#b3d9ff)",
        meBubble: "#ff4fd8",
        botBubble: "#dff0ff",
        meText: "#fff",
        botText: "#000"
    },
    "üü£ Neon": {
        bg: "#0a0f1f",
        meBubble: "#6a00ff",
        botBubble: "#222b45",
        meText: "#fff",
        botText: "#fff"
    },
    "üü© Matrix": {
        bg: "#3aff2b",
        meBubble: "#00ff00",
        botBubble: "#0f0f0f",
        meText: "#000",
        botText: "#0aff0a"
    },
    "üî• Cyber": {
        bg: "#0d0d0d",
        meBubble: "#ff003c",
        botBubble: "#0038ff",
        meText: "#fff",
        botText: "#fff"
    }
};

function applyTheme(themeName) {
    let t = themes[themeName];
    document.body.style.background = t.bg;
    document.documentElement.style.setProperty("--me-bubble", t.meBubble);
    document.documentElement.style.setProperty("--bot-bubble", t.botBubble);
    document.documentElement.style.setProperty("--me-text", t.meText);
    document.documentElement.style.setProperty("--bot-text", t.botText);
}

document.getElementById("themeSelect").addEventListener("change", function () {
    applyTheme(this.value);
});

/* -------------------------------------
   CHAT FUNCTIONS (LOCAL SEARCH ONLY)
--------------------------------------*/
function appendMessage(text, type) {
    let box = document.createElement("div");
    box.className = "msg " + type;

    if(type === "me") text = "üôÇ " + text;
    if(type === "bot") text = "ü§ñ " + text.trim(); 

    box.innerText = text;
    document.getElementById("chat").appendChild(box);
    document.getElementById("chat").scrollTop = 9999999;
}

function sendMessage() {
    let val = document.getElementById("input").value.trim();
    let lowerVal = val.toLowerCase();
    let foundName = null;

    if (val === "") return;

    appendMessage(val, "me");
    document.getElementById("input").value = "";

    // Search logic: Exact match or starts with name
    for (const key in names) {
        if (lowerVal === key || lowerVal.startsWith(key + " ")) {
            foundName = key;
            break;
        }
    }

    setTimeout(() => {
        if (foundName) {
            appendMessage(`Meaning: ${names[foundName]} ‚ú®üü¶‚ö°`, "bot");
        } else {
            // Fallback for names not found in the local database
            let r = randomMeanings[Math.floor(Math.random()*randomMeanings.length)];
            appendMessage(r, "bot");
        }
    }, 400);
}

document.getElementById("input").addEventListener("keypress", (e) => {
    if (e.key === "Enter") sendMessage();
});

/* Clear chat */
function clearChat() {
    document.getElementById("chat").innerHTML = "";
}

// Initialization: Apply default theme on load
window.onload = function() {
    // FIX: Yeh line missing thi, jo default theme ko apply karta hai.
    const defaultTheme = document.getElementById("themeSelect").value;
    applyTheme(defaultTheme);
};

</script>

</body>
</html>
